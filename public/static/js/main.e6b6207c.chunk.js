(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],{43:function(e,t,n){},44:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var r,c=n(0),a=n(34),s=n.n(a),i=(n(43),n(5)),o=(n(44),n(3)),u=n(11),j=n(6),l=n(4),d=n(7),b=n(10),f=Object(b.b)("users/fetchCurrentUser",(function(){return fetch("/me").then((function(e){return e.json()}))})),O=Object(b.b)("users/fetchUsers",(function(){return fetch("/users").then((function(e){return e.json()}))})),p=Object(b.b)("users/loginUser",(function(e){return fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()}))})),m=Object(b.b)("users/signupUser",(function(e){return fetch("/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()}))})),h=Object(b.b)("users/logoutUser",(function(){return fetch("/logout",{method:"DELETE"}).then((function(e){if(!e.ok)throw new Error("Logout request failed");return{success:!0}}))})),x=Object(b.b)("tasks/createTask",(function(e){return fetch("/tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()}))})),v=Object(b.b)("tasks/deleteTask",(function(e){return fetch("/tasks/".concat(e),{method:"DELETE"}).then((function(e){return e.json()}))})),y=Object(b.b)("tasks/updateTask",(function(e){return fetch("/tasks/".concat(e.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()}))})),g=Object(b.c)({name:"users",initialState:{status:"idle",entities:[],currentUser:{projects:[],teams:[]},errors:[]},reducers:{},extraReducers:(r={},Object(l.a)(r,f.pending,(function(e){e.status="loading"})),Object(l.a)(r,f.fulfilled,(function(e,t){e.currentUser=t.payload,e.status="idle",e.errors=[]})),Object(l.a)(r,O.pending,(function(e){e.status="loading"})),Object(l.a)(r,O.fulfilled,(function(e,t){e.entities=t.payload,e.status="idle",e.errors=[]})),Object(l.a)(r,p.pending,(function(e){e.status="loading"})),Object(l.a)(r,p.fulfilled,(function(e,t){"errors"in t.payload?(e.errors=[],e.errors.push(t.payload)):(e.currentUser=t.payload,e.errors=[]),e.status="idle"})),Object(l.a)(r,p.rejected,(function(e,t){e.errors=t.payload,e.status="idle"})),Object(l.a)(r,m.pending,(function(e){e.status="loading"})),Object(l.a)(r,m.fulfilled,(function(e,t){"errors"in t.payload?(e.errors=[],e.errors.push(t.payload)):(e.currentUser=t.payload,e.errors=[]),e.status="idle"})),Object(l.a)(r,h.pending,(function(e){e.status="loading"})),Object(l.a)(r,h.fulfilled,(function(e){e.status="idle",e.currentUser=null})),Object(l.a)(r,x.pending,(function(e){e.status="loading"})),Object(l.a)(r,x.fulfilled,(function(e,t){var n;if(null!==(n=t.payload)&&void 0!==n&&n.errors)e.errors=[],e.errors.push(t.payload);else{var r=e.currentUser.projects.find((function(e){return e.id===t.payload.project_id})),c=e.currentUser.teams.find((function(e){return e.id===t.payload.team_id}));r&&r.tasks.push(t.payload),c&&c.tasks.push(t.payload),r||(e.currentUser.projects=[].concat(Object(d.a)(e.currentUser.projects),[t.payload.project])),c||(e.currentUser.teams=[].concat(Object(d.a)(e.currentUser.teams),[t.payload.team]));var a=e.entities.find((function(t){return t.id===e.currentUser.id})),s=a.projects.find((function(e){return e.id===t.payload.project_id})),i=a.teams.find((function(e){return e.id===t.payload.team_id}));s&&s.tasks.push(t.payload),i&&i.tasks.push(t.payload),s||(a.projects=[].concat(Object(d.a)(a.projects),[t.payload.project])),i||(a.teams=[].concat(Object(d.a)(a.teams),[t.payload.team])),e.errors=[]}e.status="idle"})),Object(l.a)(r,v.pending,(function(e){e.status="loading"})),Object(l.a)(r,v.fulfilled,(function(e,t){e.status="idle";var n=e.currentUser.projects.find((function(e){return e.id===t.payload.project_id})),r=e.currentUser.teams.find((function(e){return e.id===t.payload.team_id}));n.tasks=n.tasks.filter((function(e){return e.id!==t.payload.id})),r.tasks=r.tasks.filter((function(e){return e.id!==t.payload.id})),n.tasks||(n.tasks=[]),r.tasks||(r.tasks=[]);var c=e.entities.find((function(e){return e.id===t.payload.user_id})),a=c.projects.find((function(e){return e.id===t.payload.project_id})),s=c.teams.find((function(e){return e.id===t.payload.team_id}));a.tasks.filter((function(e){return e.id!==t.payload.id})),s.tasks=s.tasks.filter((function(e){return e.id!==t.payload.id})),a.tasks||(a.tasks=[]),s.tasks||(s.tasks=[])})),Object(l.a)(r,y.pending,(function(e){e.status="loading"})),Object(l.a)(r,y.fulfilled,(function(e,t){var n;if(null!==(n=t.payload)&&void 0!==n&&n.errors)e.errors=[],e.errors.push(t.payload);else{e.status="idle",e.errors=[];var r=e.currentUser.projects.find((function(e){return e.id===t.payload.project_id}));r.tasks=r.tasks.map((function(e){return e.id===t.payload.id?t.payload:e}));var c=e.currentUser.teams.find((function(e){return e.id===t.payload.team_id}));c.tasks=c.tasks.map((function(e){return e.id===t.payload.id?t.payload:e}))}})),r)}).reducer,k=n(1);var C=function(){var e=Object(j.b)(),t=Object(o.n)();return Object(k.jsxs)("nav",{id:"navbar",children:[Object(k.jsx)(u.b,{className:"nav-btn",to:"/",children:"My Tasks"}),Object(k.jsx)(u.b,{className:"nav-btn",to:"/projects",children:"Projects"}),Object(k.jsx)(u.b,{className:"nav-btn",to:"/teams",children:"Teams"}),Object(k.jsx)("button",{className:"nav-btn-split",onClick:function(){e(h()),t("/")},children:"Logout"})]})};var S=function(e){var t=e.task,n=Object(j.b)(),r=Object(o.n)(),c=t.name,a=t.due_date,s=t.id,i=t.project_id,l=t.team_id,d=t.user_id,b=Object(j.c)((function(e){return e.users.entities})),f=Object(j.c)((function(e){return e.users.currentUser}));console.log(b);var O=b.find((function(e){return e.id===d}));if(!O)return Object(k.jsx)("div",{children:'"Loading..."'});var p=O.projects.find((function(e){return e.id===i})),m=O.teams.find((function(e){return e.id===l}));return Object(k.jsxs)("div",{children:[Object(k.jsxs)(u.b,{to:"/tasks/".concat(s),children:[O.username," ",c," ",a," ",p.name," ",m.name]}),f.id===d?Object(k.jsx)("button",{onClick:function(){n(v(s))},children:"\u2714"}):null,f.id===d?Object(k.jsx)("button",{onClick:function(){r("/tasks/".concat(s,"/edit"))},children:"edit"}):null]})},_=n(9);var N=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.users.currentUser})),n=Object(j.c)((function(e){return e.projects.entities})),r=Object(j.c)((function(e){return e.teams.entities})),a=Object(j.c)((function(e){return e.users.errors})),s=n.filter((function(e){return e.creator_id===t.id})).map((function(e){return Object(k.jsx)("option",{value:e.id,children:e.name},e.id)})),o=r.filter((function(e){return e.auth_users.includes(t.id)})).map((function(e){return Object(k.jsx)("option",{value:e.id,name:e.name,children:e.name},e.id)})),u=a.map((function(e,t){return Object(k.jsx)("ul",{children:e.errors.map((function(e,t){return Object(k.jsx)("li",{className:"error",children:e},t)}))},t)})),d=Object(c.useState)({name:"",due_date:"",description:""}),b=Object(i.a)(d,2),f=b[0],O=b[1],p=f.name,m=f.due_date,h=f.description;function v(e){O(Object(_.a)(Object(_.a)({},f),{},Object(l.a)({},e.target.name,e.target.value)))}var y=Object(c.useState)(""),g=Object(i.a)(y,2),C=g[0],S=g[1],N=Object(c.useState)(""),T=Object(i.a)(N,2),U=T[0],P=T[1],w={name:p,due_date:m,description:h,project_id:C,team_id:U,user_id:t.id};return Object(k.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(x(w)),O({name:"",due_date:"",description:""}),S(""),P("")},children:[u,Object(k.jsxs)("label",{children:["Task Name",Object(k.jsx)("input",{name:"name",type:"text",autoComplete:"off",value:p,onChange:v})]}),Object(k.jsxs)("label",{children:["Due Date",Object(k.jsx)("input",{name:"due_date",type:"date",autoComplete:"off",value:m,onChange:v})]}),Object(k.jsxs)("label",{children:["Description",Object(k.jsx)("input",{name:"description",type:"text",autoComplete:"off",value:h,onChange:v})]}),Object(k.jsxs)("label",{children:["Team",Object(k.jsxs)("select",{onChange:function(e){P(parseInt(e.target.value))},value:U,children:[Object(k.jsx)("option",{name:"",value:"",children:"---Select a Team---"}),o]})]}),Object(k.jsxs)("label",{children:["Project",Object(k.jsxs)("select",{onChange:function(e){S(parseInt(e.target.value))},value:C,children:[Object(k.jsx)("option",{name:"",value:"",children:"---Select a Project---"}),s]})]}),Object(k.jsx)("button",{type:"submit",children:"Submit"})]})};var T=function(){var e=Object(j.c)((function(e){return e.users.currentUser.projects})).map((function(e){return e.tasks})).flat().map((function(e){return Object(k.jsx)(S,{task:e},e.id)})),t=Object(c.useState)(!1),n=Object(i.a)(t,2),r=n[0],a=n[1];return Object(k.jsxs)("div",{children:[Object(k.jsx)("button",{onClick:function(){a(!r)},children:"+ Add Task"}),r?Object(k.jsx)(N,{vis:r,setVis:a}):null,Object(k.jsx)("br",{}),e||null]})};var U=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),s=Object(i.a)(a,2),o=s[0],u=s[1],l=Object(c.useState)(!1),d=Object(i.a)(l,2),b=d[0],f=d[1],O=Object(j.b)(),m={email:n,password:o};return Object(k.jsxs)("form",{onSubmit:function(e){e.preventDefault(),f(!0),O(p(m)).then((function(){f(!1),r(""),u("")}))},children:[Object(k.jsxs)("label",{className:"form-label",children:["Email address",Object(k.jsx)("input",{name:"email",type:"text",autoComplete:"off",value:n,onChange:function(e){return r(e.target.value)}})]}),Object(k.jsxs)("label",{className:"form-label",children:["Password",Object(k.jsx)("input",{name:"password",type:"password",autoComplete:"off",value:o,onChange:function(e){return u(e.target.value)}})]}),Object(k.jsx)("button",{className:"login-btn",type:"submit",children:b?"Loading...":"Sign In"})]})};var P=function(){var e=Object(j.b)(),t=Object(c.useState)(!1),n=Object(i.a)(t,2),r=n[0],a=n[1],s=Object(j.c)((function(e){return e.users.errors})),o=s.map((function(e,t){return Object(k.jsx)("div",{className:"error-container",children:e.errors.map((function(e,t){return Object(k.jsx)("p",{className:"errors",children:e},t)}))},t)})),u=Object(c.useState)({first_name:"",last_name:"",email:"",password:"",password_confirmation:"",title:""}),d=Object(i.a)(u,2),b=d[0],f=d[1],O=b.first_name,p=b.last_name,h=b.email,x=b.password,v=b.password_confirmation,y=b.title;function g(e){f(Object(_.a)(Object(_.a)({},b),{},Object(l.a)({},e.target.name,e.target.value)))}return Object(k.jsxs)("form",{className:"login-form",onSubmit:function(t){t.preventDefault(),a(!0),e(m(b)).then((function(){a(!1)}))},children:[Object(k.jsxs)("label",{children:["First Name",Object(k.jsx)("input",{name:"first_name",type:"text",autoComplete:"off",value:O,onChange:g})]}),Object(k.jsxs)("label",{children:["Last Name",Object(k.jsx)("input",{name:"last_name",type:"text",autoComplete:"off",value:p,onChange:g})]}),Object(k.jsxs)("label",{children:["Title",Object(k.jsx)("input",{name:"title",type:"text",autoComplete:"off",value:y,onChange:g})]}),Object(k.jsxs)("label",{children:["Email",Object(k.jsx)("input",{name:"email",type:"text",autoComplete:"off",value:h,onChange:g})]}),Object(k.jsxs)("label",{children:["Password",Object(k.jsx)("input",{name:"password",type:"password",autoComplete:"off",value:x,onChange:g})]}),Object(k.jsxs)("label",{children:["Password Confirmation",Object(k.jsx)("input",{name:"password_confirmation",type:"password",autoComplete:"off",value:v,onChange:g})]}),Object(k.jsx)("button",{className:"login-btn",type:"submit",children:r?"Loading...":"Sign Up"}),s.length>0?o:null]})};var w=function(){var e=Object(j.c)((function(e){return e.users.errors})),t=Object(c.useState)(!0),n=Object(i.a)(t,2),r=n[0],a=n[1],s=e.map((function(e,t){return Object(k.jsx)("div",{className:"error-container",children:e.errors.map((function(e,t){return Object(k.jsx)("p",{className:"errors",children:e},t)}))},t)}));return Object(k.jsxs)("div",{className:"parent",children:[Object(k.jsx)("h1",{className:"header",children:"Trakable"}),r?Object(k.jsxs)("div",{className:"login-form-container",children:[Object(k.jsx)("h2",{children:"Welcome to Trakable"}),Object(k.jsx)("p",{children:"To begin, please sign in."}),Object(k.jsx)(U,{}),e.length>0?s:null,Object(k.jsx)("hr",{}),Object(k.jsxs)("p",{children:["Don't have an account? \xa0",Object(k.jsx)("button",{className:"login-btn",onClick:function(){return a(!1)},children:"Sign Up"})]})]}):Object(k.jsxs)("div",{className:"login-form-container",children:[Object(k.jsx)(P,{}),Object(k.jsx)("hr",{}),Object(k.jsxs)("p",{children:["Already have an account? \xa0",Object(k.jsx)("button",{className:"login-btn",onClick:function(){return a(!0)},children:"Log In"})]})]})]})};var D=function(){var e=Object(o.p)().id;e=parseInt(e);var t=Object(j.c)((function(e){return e.users.entities})),n=Object(j.c)((function(e){return e.users.currentUser})),r=t.find((function(e){return e.id===n.id})).teams.map((function(e){return e.tasks})).flat(),c=r.find((function(t){return t.id===e}));console.log(r),console.log(c);var a=c.name,s=c.description,i=c.due_date;return Object(k.jsxs)("div",{children:[a," ",i,Object(k.jsx)("br",{}),s,Object(k.jsx)("hr",{})]})};var E,I=function(){var e=Object(o.p)().id;e=parseInt(e);var t=Object(j.b)(),n=Object(j.c)((function(e){return e.users.currentUser.projects})).map((function(e){return e.tasks})).flat().find((function(t){return t.id===e})),r=Object(j.c)((function(e){return e.users.errors})),a=Object(c.useState)({name:n.name,due_date:n.due_date,description:n.description,id:n.id}),s=Object(i.a)(a,2),u=s[0],d=s[1],b=u.name,f=u.due_date,O=u.description;function p(e){d(Object(_.a)(Object(_.a)({},u),{},Object(l.a)({},e.target.name,e.target.value)))}var m=r.map((function(e,t){return Object(k.jsx)("ul",{children:e.errors.map((function(e,t){return Object(k.jsx)("li",{className:"error",children:e},t)}))},t)}));return Object(k.jsxs)("div",{children:[n.name," ",n.due_date," ",n.description,Object(k.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(y(u))},children:[m,Object(k.jsxs)("label",{children:["Task Name",Object(k.jsx)("input",{name:"name",type:"text",autoComplete:"off",value:b,onChange:p})]}),Object(k.jsxs)("label",{children:["Due Date",Object(k.jsx)("input",{name:"due_date",type:"date",autoComplete:"off",value:f,onChange:p})]}),Object(k.jsxs)("label",{children:["Description",Object(k.jsx)("input",{name:"description",type:"text",autoComplete:"off",value:O,onChange:p})]}),Object(k.jsx)("button",{type:"submit",children:"Submit"})]})]})},L=Object(b.b)("users/fetchProjects",(function(){return fetch("/projects").then((function(e){return e.json()}))})),J=Object(b.b)("projects/createProject",(function(e){return fetch("/projects",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()}))})),A=Object(b.c)({name:"projects",initialState:{status:"idle",entities:[],errors:[]},reducers:{},extraReducers:(E={},Object(l.a)(E,L.pending,(function(e){e.status="loading"})),Object(l.a)(E,L.fulfilled,(function(e,t){e.entities=t.payload,e.status="idle"})),Object(l.a)(E,J.pending,(function(e){e.status="loading"})),Object(l.a)(E,J.fulfilled,(function(e,t){"errors"in t.payload?(e.errors=[],e.errors.push(t.payload)):(e.entities.push(t.payload),e.errors=[]),e.status="idle"})),E)}).reducer;var R=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.users.currentUser})),n=Object(j.c)((function(e){return e.projects.errors})).map((function(e,t){return Object(k.jsx)("ul",{children:e.errors.map((function(e,t){return Object(k.jsx)("li",{className:"error",children:e},t)}))},t)})),r=Object(c.useState)({name:"",description:"",creator_id:t.id}),a=Object(i.a)(r,2),s=a[0],o=a[1],u=s.name,d=s.description;function b(e){o(Object(_.a)(Object(_.a)({},s),{},Object(l.a)({},e.target.name,e.target.value)))}return Object(k.jsx)("div",{children:Object(k.jsxs)("form",{onSubmit:function(n){n.preventDefault(),e(J(s)),o({name:"",description:"",creator_id:t.id})},children:[n,Object(k.jsxs)("label",{children:["Project Name",Object(k.jsx)("input",{name:"name",type:"text",autoComplete:"off",value:u,onChange:b})]}),Object(k.jsxs)("label",{children:["Description",Object(k.jsx)("input",{name:"description",type:"text",autoComplete:"off",value:d,onChange:b})]}),Object(k.jsx)("button",{type:"submit",children:"Submit"})]})})};var M=function(){var e=Object(j.c)((function(e){return e.users.currentUser})),t=Object(j.c)((function(e){return e.projects.entities})).filter((function(t){return t.creator_id===e.id})).map((function(e){return Object(k.jsx)(u.b,{to:"/projects/".concat(e.id),children:e.name},e.id)})),n=Object(c.useState)(!1),r=Object(i.a)(n,2),a=r[0],s=r[1];return Object(k.jsxs)("div",{children:[Object(k.jsx)("button",{onClick:function(){s(!a)},children:"+ Add Project"}),a?Object(k.jsx)(R,{vis:a,setVis:s}):null,Object(k.jsx)("h4",{children:"Projects I've Created"}),t]})};var V,H=function(){var e=Object(o.p)().id;e=parseInt(e);var t=Object(j.c)((function(e){return e.users.currentUser.projects})).find((function(t){return t.id===e})),n=(t?t.tasks.map((function(e){return e})):[]).map((function(e){return Object(k.jsx)(S,{task:e},e.id)}));return t?Object(k.jsxs)("div",{children:[Object(k.jsx)("h4",{children:t.name}),0===n.length?null:n]}):Object(k.jsx)("div",{children:"Please add your first task to this project."})},q=Object(b.b)("teams/fetchTeams",(function(){return fetch("/teams").then((function(e){return e.json()}))})),B=Object(b.b)("teams/createTeam",(function(e){return fetch("/teams",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()}))})),F=Object(b.b)("teams/updateTeam",(function(e){return fetch("/teams/".concat(e.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()}))})),W=Object(b.c)({name:"teams",initialState:{status:"idle",entities:[],errors:[]},reducers:{},extraReducers:(V={},Object(l.a)(V,q.pending,(function(e){e.status="loading"})),Object(l.a)(V,q.fulfilled,(function(e,t){e.entities=t.payload,e.status="idle"})),Object(l.a)(V,B.pending,(function(e){e.status="loading"})),Object(l.a)(V,B.fulfilled,(function(e,t){e.status="idle","errors"in t.payload?(e.errors=[],e.errors.push(t.payload)):(e.entities.push(t.payload),e.errors=[])})),Object(l.a)(V,F.pending,(function(e){e.status="loading"})),Object(l.a)(V,F.fulfilled,(function(e,t){e.status="idle","errors"in t.payload?(e.errors=[],e.errors.push(t.payload)):(e.entities=e.entities.map((function(e){return e.id===t.payload.id?t.payload:e})),e.errors=[])})),V)}).reducer;var z=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.users.currentUser})),n=Object(j.c)((function(e){return e.teams.errors})).map((function(e,t){return Object(k.jsx)("ul",{children:e.errors.map((function(e,t){return Object(k.jsx)("li",{className:"error",children:e},t)}))},t)})),r=Object(c.useState)({name:"",description:"",creator_id:t.id}),a=Object(i.a)(r,2),s=a[0],o=a[1],u=s.name,d=s.description;function b(e){o(Object(_.a)(Object(_.a)({},s),{},Object(l.a)({},e.target.name,e.target.value)))}return Object(k.jsx)("div",{children:Object(k.jsxs)("form",{onSubmit:function(n){n.preventDefault(),e(B(s)),o({name:"",description:"",creator_id:t.id})},children:[n,Object(k.jsxs)("label",{children:["Team Name",Object(k.jsx)("input",{name:"name",type:"text",autoComplete:"off",value:u,onChange:b})]}),Object(k.jsxs)("label",{children:["Description",Object(k.jsx)("input",{name:"description",type:"text",autoComplete:"off",value:d,onChange:b})]}),Object(k.jsx)("button",{type:"submit",children:"Submit"})]})})};var G=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],r=t[1],a=Object(j.c)((function(e){return e.users.currentUser})),s=Object(j.c)((function(e){return e.teams.entities})).filter((function(e){return e.auth_users.includes(a.id)})).map((function(e){return Object(k.jsx)(u.b,{to:"/teams/".concat(e.id),children:e.name},e.id)}));return Object(k.jsxs)("div",{children:[Object(k.jsx)("button",{onClick:function(){r(!n)},children:"+ Add Team"}),n?Object(k.jsx)(z,{vis:n,setVis:r}):null,Object(k.jsx)("br",{}),Object(k.jsx)("h4",{children:"My Teams"}),s]})};var K=function(){var e=Object(o.p)().id;e=parseInt(e);var t=Object(j.b)(),n=Object(j.c)((function(e){return e.teams.entities})),r=Object(j.c)((function(e){return e.teams.errors})),a=Object(j.c)((function(e){return e.users.entities})),s=Object(c.useState)(""),u=Object(i.a)(s,2),l=u[0],b=u[1],f=Object(c.useState)(!1),O=Object(i.a)(f,2),p=O[0],m=O[1],h=r.map((function(e,t){return Object(k.jsx)("div",{children:e.errors.map((function(e,t){return Object(k.jsx)("div",{className:"error",children:e.slice(11)},t)}))},t)}));return Object(k.jsxs)("form",{onSubmit:function(r){r.preventDefault();var c=n.find((function(t){return t.id===e})),s=a.find((function(e){return e.email===l}));if(s){var i=Object(_.a)(Object(_.a)({},c),{},{auth_users:[].concat(Object(d.a)(c.auth_users),[s.id])});t(F(i)),m(!1)}else m(!0)},children:[h,p&&Object(k.jsx)("div",{className:"error",children:"User with this email not found."}),Object(k.jsxs)("label",{children:["User's Email",Object(k.jsx)("input",{onChange:function(e){b(e.target.value),m(!1)},type:"text",name:"email",value:l})]}),Object(k.jsx)("button",{type:"submit",children:"Submit"})]})};var Q=function(){var e=Object(o.p)().id;e=parseInt(e);var t=Object(c.useState)(!1),n=Object(i.a)(t,2),r=n[0],a=n[1],s=Object(j.c)((function(e){return e.users.entities})),u=Object(j.c)((function(e){return e.users.currentUser.teams})),l=Object(j.c)((function(e){return e.teams.entities})),d=u.find((function(t){return t.id===e})),b=(d?d.tasks.map((function(e){return e})):[]).map((function(e){return Object(k.jsx)(S,{task:e},e.id)}));if(!d)return Object(k.jsx)("div",{children:"Please add a task to this team."});var f=l.find((function(t){return t.id===e}));if(!f)return Object(k.jsx)("div",{children:'"Loading..."'});var O=s.filter((function(e){return f.auth_users.includes(e.id)}));return Object(k.jsxs)("div",{children:[Object(k.jsx)("h4",{children:d.name}),Object(k.jsxs)("h4",{children:["Team Members ",O.map((function(e){return Object(k.jsx)("li",{children:e.username},e.id)}))]}),Object(k.jsx)("button",{onClick:function(){a(!r)},children:"Invite a Teammate"}),r?Object(k.jsx)(K,{}):null,0===b.length?null:b]})};var X=function(){var e=Object(j.b)(),t=Object(c.useState)(!0),n=Object(i.a)(t,2),r=n[0],a=n[1],s=Object(j.c)((function(e){return e.users.currentUser}));console.log(s);var u=Object(c.useState)(null),l=Object(i.a)(u,2),d=l[0],b=l[1];return Object(c.useEffect)((function(){e(f()).then((function(){return a(!1)}))}),[e]),Object(c.useEffect)((function(){s&&s.id!==d&&(e(O()),e(L()),e(q()),b(s.id))}),[e,s,d]),r?Object(k.jsx)("div",{}):!s||s.errors?Object(k.jsx)(w,{}):Object(k.jsxs)("main",{children:[Object(k.jsx)(C,{}),Object(k.jsxs)(o.c,{children:[Object(k.jsx)(o.a,{path:"/",element:Object(k.jsx)(T,{})}),Object(k.jsx)(o.a,{path:"/tasks/:id",element:Object(k.jsx)(D,{})}),Object(k.jsx)(o.a,{path:"/tasks/:id/edit",element:Object(k.jsx)(I,{})}),Object(k.jsx)(o.a,{path:"/projects",element:Object(k.jsx)(M,{})}),Object(k.jsx)(o.a,{path:"/projects/:id",element:Object(k.jsx)(H,{})}),Object(k.jsx)(o.a,{path:"/teams",element:Object(k.jsx)(G,{})}),Object(k.jsx)(o.a,{path:"/teams/:id",element:Object(k.jsx)(Q,{})})]})]})},Y=Object(b.a)({reducer:{users:g,projects:A,teams:W}});s.a.createRoot(document.getElementById("root")).render(Object(k.jsx)(u.a,{children:Object(k.jsx)(j.a,{store:Y,children:Object(k.jsx)(X,{})})}))}},[[51,1,2]]]);
//# sourceMappingURL=main.e6b6207c.chunk.js.map